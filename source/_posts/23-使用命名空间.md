---
title: 23 使用命名空间
date: 2019-12-01 12:02:31
tags: TypeScript
---
src目录下新建两回合文件:
- a.ts
```ts
// a.ts

namspace Shape {
    const pi = Math.PI;
    export function circle(r: number) {
        return pi * r ** 2;
    }
}
```
命名空间中可以定义任意多的变量，这些变量只能在这个命名空间下可见，如果想要这些成员在全局内可见就要使用export关键字将其导出

<!-- more -->

- 命名空间是可以拆分的

b.ts(和a.ts共享一个命名空间):
```ts
// b.ts

/// <reference path="a.ts" /> // 引入a.ts
namespace Shape {
    export function square(x: number) {
        return x * x;
    }
}

// 使用命名空间
Shape.circle(1); // 没有引入a.ts时，报命名空间Shape中没有circle
Shape.square(1);
```

## 命名空间的调用
> 一个原则:**命名空间和模块不要混用**--命名空间最好在一个全局的环境中使用

正确的使用方式--先把ts文件编译成js，再在index.html中用script标签引入a.js和b.js

- 引入其他文件的命名空间:三斜杠语法 
```ts
/// <reference path="b.ts" />
```

- #### 命名空间编译结果(实现原理):
  - 编译成自执行函数，导出的变量挂在一个全局变量上

## 别名
```ts
// b.ts
/// <reference path="a.ts" />

namespace Shape {
    export function square(x: number) {
        return x * x;
    }
}

console.log(Shape.circle(1));
console.log(Shape.square(1));

// 别名
import circle = Shape.circle; //此import和模块中的import不一样
console.log(circle(2));
```
